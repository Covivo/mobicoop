{% extends '@Mobicoop/base.html.twig' %}
{# LOAD  #}
{% block title %}
  {% trans from 'ui' %}carpool.ad_create.title{% endtrans %}
{% endblock %}
{% block stylesheets %}
  {{ encore_entry_link_tags("#{assets_prefix ?? ''}carpool/publish") }}
{% endblock %}
{% block main %}

  <ad-publish 
    geo-search-url="{{ geoCompleteUri }}" 
    :user="{{app.user|json_encode}}" 
    :default-price-km="{{ priceKm }}"
    :default-margin-time="{{ marginTime }}"
    :url-tiles="{{ urlTiles|json_encode }}"
    :attribution-copyright="{{ attributionCopyright|json_encode }}"
    :community-ids="{{ communityIds is defined ? communityIds|json_encode : 'null' }}"
    :init-origin = "{{ origin is defined ? origin : 'null' }}"
    :init-destination = "{{ destination is defined ? destination : 'null' }}"
    init-date = "{{ date is defined ? date : '' }}"
    init-time = "{{ time is defined ? time : '' }}"
    :init-regular = "{{ regular is defined ? (regular ? 'true' : 'false') : 'false' }}"
    :first-ad = "{{ firstAd is defined ? (firstAd ? 'true' : 'false') : 'false' }}"
  />

{% endblock %}
{% block javascripts %}
  {{ encore_entry_script_tags("#{assets_prefix ?? ''}carpool/publish") }}

{% endblock %}
